{"version":3,"sources":["../layout/style/index.jsx","admin/components/Footer/index.js","../layout/index.jsx","admin/login/index.js"],"names":["Footer","className","React","Component","Layout","Sider","Content","FormItem","Item","Login","state","loading","startMusic","document","getElementById","play","stopMusic","pause","handleLogin","dispatch","props","form","validateFields","error","values","setState","axios","post","url","data","username","password","then","res","success","login","history","push","catch","this","getFieldDecorator","layout","rules","required","message","prefix","type","placeholder","onClick","htmlType","connect","create"],"mappings":"gHAAA,MACA,Q,qJCEqBA,G,wLAGb,OACI,yBAAKC,UAAU,UAAf,6P,GAJwBC,IAAMC,a,yHCH1C,gBACA,Y,mDACAC,gBAAeC,U,MACAD,U,wUCIPE,E,IAAAA,QAASN,E,IAAAA,OACXO,EAAW,IAAKC,KAChBC,E,2MAEFC,MAAQ,CACJC,SAAQ,G,EAOZC,WAAa,WACKC,SAASC,eAAe,SAChCC,Q,EAGVC,UAAY,WACMH,SAASC,eAAe,SAChCG,S,EAGVC,YAAc,WAAO,IACTC,EAAa,EAAKC,MAAlBD,SACR,EAAKC,MAAMC,KAAKC,gBAAe,SAACC,EAAOC,GAC/BD,IACA,EAAKE,SAAS,CACVd,SAAQ,IAEZe,IAAMC,KAAK,CACPC,IAAI,iBACJC,KAAK,CACDC,SAASN,EAAOM,SAChBC,SAASP,EAAOO,YAErBC,MAAK,SAACC,GAEL,IAAQC,QAAQ,4BAChBf,EAASgB,YAAMF,EAAIJ,OACnB,EAAKJ,SAAS,CAACd,SAAQ,IACvB,EAAKK,YACL,EAAKI,MAAMgB,QAAQC,KAAK,kBACzBC,OAAM,WACL,IAAQf,MAAM,oDACd,EAAKE,SAAS,CACVd,SAAQ,Y,oFApCxB4B,KAAK3B,e,+BA2CA,IACG4B,EAAsBD,KAAKnB,MAAMC,KAAjCmB,kBACA7B,EAAY4B,KAAK7B,MAAjBC,QACR,OACI,uBAAQV,UAAU,mBACd,kBAACK,EAAD,CAASL,UAAU,iBACf,yBAAKA,UAAU,sBACX,0HACA,yBAAKA,UAAU,uBACX,uEAEJ,uBAAMwC,OAAO,cACT,kBAAClC,EAAD,KAEQiC,EAAkB,WAAW,CACzBE,MAAM,CACF,CACIC,UAAS,EACTC,QAAQ,gDAJpBJ,CASI,uBAAOK,OAAQ,uBAAMC,KAAK,SAAUC,YAAY,2CAI5D,kBAACxC,EAAD,KAEQiC,EAAkB,WAAW,CACzBE,MAAM,CACF,CACIC,UAAS,EACTC,QAAQ,0CAJpBJ,CAQI,uBAAOM,KAAK,WAAWD,OAAQ,uBAAMC,KAAK,SAAWC,YAAY,qCAI7E,kBAACxC,EAAD,KACI,uBAAQuC,KAAK,UAAUnC,QAASA,EAASqC,QAAST,KAAKrB,YAAa+B,SAAS,UAA7E,oBAKhB,kBAACjD,EAAD,CAAQC,UAAU,gBACd,kBAAC,IAAD,Y,GAlGAC,IAAMC,WAyGX+C,wBAAU,IAAKC,QAAL,CAAc1C","file":"static/js/5.0bd671e5.chunk.js","sourcesContent":["import '../../style/index.less';\nimport './index.less';\n","import React from 'react';\r\nimport './index.less'\r\n\r\nexport default class Footer extends React.Component{\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"footer\">\r\n                版权所有：312885991@qq.com（推荐使用谷歌浏览器，可以获得更佳操作页面体验） 技术支持：别回头丶\r\n            </div>\r\n        )\r\n    }\r\n}","import Layout from './layout';\nimport Sider from './Sider';\nLayout.Sider = Sider;\nexport default Layout;\n","import React from 'react';\r\nimport MineFooter from '../components/Footer'\r\nimport { Layout, Form, Icon, Input, Button, message } from 'antd';\r\nimport './index.less';\r\nimport axios from '../../axios'\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/action'\r\nconst { Content, Footer } = Layout;\r\nconst FormItem = Form.Item;\r\nclass Login extends React.Component{\r\n\r\n    state = {\r\n        loading:false\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.startMusic();\r\n    }\r\n\r\n    startMusic = () => {\r\n        const music = document.getElementById(\"music\");\r\n        music.play();\r\n    }\r\n\r\n    stopMusic = () => {\r\n        const music = document.getElementById(\"music\");\r\n        music.pause();\r\n    }\r\n\r\n    handleLogin = () => {\r\n        const { dispatch } = this.props;\r\n        this.props.form.validateFields((error, values)=>{\r\n            if(!error){\r\n                this.setState({\r\n                    loading:true\r\n                })\r\n                axios.post({\r\n                    url:'/account/login',\r\n                    data:{\r\n                        username:values.username,\r\n                        password:values.password\r\n                    }\r\n                }).then((res)=>{\r\n                    // console.log(res)\r\n                    message.success(\"登录成功\")\r\n                    dispatch(login(res.data))\r\n                    this.setState({loading:false})\r\n                    this.stopMusic();\r\n                    this.props.history.push('/admin/home')\r\n                }).catch(()=>{\r\n                    message.error(\"用户名或密码错误\")\r\n                    this.setState({\r\n                        loading:false\r\n                    })\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    render(){\r\n        const { getFieldDecorator } = this.props.form;\r\n        const { loading } = this.state;\r\n        return(\r\n            <Layout className=\"login-container\">\r\n                <Content className=\"login-content\">\r\n                    <div className=\"login-content-form\">\r\n                        <h1>欢迎使用校园闲置品后台管理系统</h1>\r\n                        <div className=\"login-content-title\">\r\n                            <span>账号密码登录</span>\r\n                        </div>\r\n                        <Form layout=\"horizontal\">\r\n                            <FormItem>\r\n                                {\r\n                                    getFieldDecorator('username',{\r\n                                        rules:[\r\n                                            {\r\n                                                required:true,\r\n                                                message:'用户名不能为空'\r\n                                                \r\n                                            }\r\n                                        ]\r\n                                    })(\r\n                                        <Input prefix={<Icon type=\"user\"/>} placeholder=\"请输入用户名\"/>\r\n                                    )\r\n                                }\r\n                            </FormItem>\r\n                            <FormItem>\r\n                                {\r\n                                    getFieldDecorator('password',{\r\n                                        rules:[\r\n                                            {\r\n                                                required:true,\r\n                                                message:'密码不能为空'\r\n                                            }\r\n                                        ]\r\n                                    })(\r\n                                        <Input type=\"password\" prefix={<Icon type=\"lock\" />} placeholder=\"请输入密码\" />\r\n                                    )\r\n                                }\r\n                            </FormItem>\r\n                            <FormItem>\r\n                                <Button type=\"primary\" loading={loading} onClick={this.handleLogin} htmlType=\"submit\">登录</Button>\r\n                            </FormItem>\r\n                        </Form>\r\n                    </div>\r\n                </Content>\r\n                <Footer className=\"login-footer\">\r\n                    <MineFooter />\r\n                </Footer>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect()(Form.create()(Login))"],"sourceRoot":""}